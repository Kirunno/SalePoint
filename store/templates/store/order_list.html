{% extends "store/base.html" %}

{% block title %}Мои заказы{% endblock %}

{% block content %}

<h3 class="mb-4">История заказов</h3>

{% if orders %}
    <div class="list-group">

        {% for order in orders %}
            <a href="{% url 'order_detail' order.id %}" 
               class="list-group-item list-group-item-action py-3">

                <div class="d-flex justify-content-between align-items-center">
                    
                    <div>
                        <div class="fw-bold">Заказ № {{ order.id }}</div>
                        <div class="text-muted small">
                            {{ order.created_at|date:"d.m.Y H:i" }}
                        </div>
                    </div>

                    <span class="badge 
                        {% if order.status == 'Обрабатывается' %} bg-warning text-dark
                        {% elif order.status == 'Отменён' %} bg-danger
                        {% elif order.status == 'Оплачено' %} bg-primary
                        {% elif order.status == 'Доставлен' %} bg-success
                        {% endif %}
                    ">
                        {{ order.status }}
                    </span>

                    <div class="fw-bold fs-5">
                        {{ order.total_price }} ₸
                    </div>

                </div>

            </a>
        {% endfor %}

    </div>

{% else %}
    <p class="text-muted">У вас пока нет заказов.</p>
{% endif %}

{% endblock %}
